---
title: 堆叠上下文
date: 2019-08-28 18:44:48
categories:
- 前端
description:
- 学习课程之余总结(抄)来的笔记，老师画的图很有意思，自己也画了一下~
---



## 堆叠顺序

在div中

- 背景颜色在最下层
- 边框高于背景颜色
- 文字内容（内联元素）高于边框
- div中的块级元素不会覆盖当前div的文字
- div中的块级元素中的文字会比当前div的文字层级更高
- div中的浮动元素在文字下面
- div中的浮动元素会比当前div的块级元素高一层
- 浮动元素的文字会被浮动元素外的文字覆盖

图片：

![Stacking.png](https://i.loli.net/2019/08/28/m5COHX9jwtnQMLV.png)


当当前div的定位属性不是默认时它内部的定位元素堆叠顺序发生改变负的z-index将会在当前div的背景和边框之上

## 堆叠上下文

<https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context>

可以理解为堆叠作用域。跟 BFC 一样，我们只知道一些属性会触发堆叠上下文，但并不知道堆叠上下文是什么。

- 根元素 (HTML),
- z-index 值不为 "auto"的 绝对/相对定位，
- 一个 z-index 值不为 "auto"的 flex 项目 (flex item)，即：父元素 display: flex|inline-flex，
- opacity 属性值小于 1 的元素（参考 the specification for opacity），
- transform 属性值不为 "none"的元素，
- mix-blend-mode 属性值不为 "normal"的元素，
- filter值不为“none”的元素，
- perspective值不为“none”的元素，
- isolation 属性被设置为 "isolate"的元素，
- position: fixed
- 在 will-change 中指定了任意 CSS 属性，即便你没有直接指定这些属性的值（参考 这篇文章）
- -webkit-overflow-scrolling 属性被设置 "touch"的元素

